<title>Guess Zodiac Signs</title>
<html>
<body>
<script src = "./jsonstr.js"></script>
<script type="text/javascript">
	window.onload = function() {
		drawpage();
	}

	var numpages = jsonstr.bindings.length-1;
	var currimage = Math.floor(Math.random()*numpages);
	var numshown = 0;
	var score = 0;
	var hasguessed = false;

	onnext = function()
	{
		if(currimage < numpages)
			currimage++;
		else
			currimage = 0;

		updatepage();
	}

	updatepage = function()
	{
		drawpage();
	}

	onselectchange = function(guess)
	{
		if(hasguessed)
			return;

		hasguessed = true;

		document.write('<center>');
		if(guess == jsonstr.bindings[currimage].sign) {
			document.write('<p>You guessed Correctly!</p>');
			score++;
		} else {
			document.write('<p>Ooops! Correct guess was '+jsonstr.bindings[currimage].sign+'.');
		}

		document.write('<p>Your score is '+score +'/'+numshown+'</p>');
		document.write('</img><img src= "./next.png" width="100" height="100" onclick="onnext()" ></img>');
		document.write('</center>');
	}

	drawpage = function()
	{
		numshown++;

		hasguessed = false;
		document.body.innerHTML = ''

		document.write('<center>');
		document.write('<p><img src="'+jsonstr.bindings[currimage].image+'"></p>');
		document.write('<p>'+jsonstr.bindings[currimage].name+'</p>');
		document.write('Guess Zodiac! <select onchange="onselectchange(value)"><option value="Aries">Aries</option><option value="Taurus">Taurus</option><option value="Gemini">Gemini</option><option value="Cancer">Cancer</option><option value="Leo">Leo</option><option value="Virgo">Virgo</option><option value="Libra">Libra</option><option value="Scorpio">Scorpio</option><option value="Sagittarius">Sagittarius</option><option value="Capricorn">Capricorn</option><option value="Aquarius">Aquarius</option><option value="Pisces">Pisces</option></select>');
		document.write('</center>');
	}

</script>
</center>
</body>
<html>